<!DOCTYPE html>
<html>
<head>
  <title>student form</title>
</head>
<body>
  <form id="myForm">
    <label for="name">Name:</label>
    <input type="text" id="name" required>

    <label for="email">Email:</label>
    <input type="email" id="email" required>

    <label for="message">Message:</label>
    <textarea id="message" required></textarea>

    <button type="submit">Submit</button>
    <button type="button" onclick="resetForm()">Reset</button>
    <button type="button" onclick="clearLocalStorage()">Clear</button>
  </form>

  <div id="display"></div>

  <script>
    // Get the form element
    var form = document.getElementById('myForm');

    form.addEventListener('submit', function(event) {
      event.preventDefault(); // Prevent form submission

      // Get the form values
      var name = document.getElementById('name').value;
      var email = document.getElementById('email').value;
      var message = document.getElementById('message').value;

      // Create an object to store the form response
      var formData = {
        name: name,
        email: email,
        message: message
      };

      // Retrieve existing form responses from local storage
      var existingData = localStorage.getItem('formResponses');
      var newData = [];
      if (existingData) {
        var parsedExistingData = JSON.parse(existingData);
        newData = [...parsedExistingData, formData];
        localStorage.setItem('formResponses', JSON.stringify(newData));
      } else {
        localStorage.setItem('formResponses', JSON.stringify([formData]));
      }

      // Reset the form
      form.reset();

      // Display the stored form responses
      displayFormResponses();
    });

    // Function to display the stored form responses
    function displayFormResponses() {
      // Get the stored form responses
      var storedData = localStorage.getItem('formResponses');

      // Parse the stored responses from JSON
      var formResponses = storedData ? JSON.parse(storedData) : [];

      // Display the form responses
      var displayElement = document.getElementById('display');
      displayElement.innerHTML = '';

      if (formResponses) {
        for (var i = 0; i < formResponses.length; i++) {
          var response = formResponses[i];
          var responseElement = document.createElement('div');
          responseElement.textContent = `Response ${i + 1}:\nName: ${response.name}\nEmail: ${response.email}\nMessage: ${response.message}`;
          displayElement.appendChild(responseElement);
        }
      }
    }

    // Function to reset the form
    function resetForm() {
      form.reset();
    }

    // Function to clear the local storage
    function clearLocalStorage() {
      localStorage.removeItem('formResponses');
      displayFormResponses(); // Update the displayed responses
    }

    // Display the stored form responses on page load
    window.addEventListener('load', function() {
      displayFormResponses();
    });
  </script>
</body>
</html>
